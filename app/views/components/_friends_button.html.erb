<%# profiles: name と avatar_url を含むハッシュの配列 %>
<%# session_info: セッション情報（オプション） %>
<% dialog_id = "friends-dialog-#{SecureRandom.hex(4)}" %>
<div class="flex items-center justify-between bg-shade-90 p-4 rounded-lg">
    <div class="flex -space-x-2">
        <% profiles.first(5).each do |profile| %>
            <%= render('components/avatar', name: profile[:name], url: profile[:avatar_url], size: 's') %>
        <% end %>
    </div>
    <div data-controller="dialog" data-dialog-element-id-value="<%= dialog_id %>">
        <button
            class="text-[#5E626E] font-semibold hover:text-[var(--textColor)]"
            data-action="click->dialog#open"
        >
            <%= t('button.show_more') %>
        </button>
        
        <%= render 'components/friends_dialog', profiles: profiles, dialog_id: dialog_id, session_info: session_info %>
    </div>
</div>
