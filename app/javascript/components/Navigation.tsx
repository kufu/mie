import React from 'react'
import styled from 'styled-components'

import {AppNavi, Text, SmartHRLogo, FaBullhornIcon, FaCalendarAltIcon, ThemeProvider} from 'smarthr-ui'

import LocaleSelector, { Props as LocaleSelectorProps } from './LocaleSelector'
import createdTheme from './Constants'

interface Props {
  current: string
  rootLink: string
  schedulesLink: string
  plansLink?: string
  locales: LocaleSelectorProps
  i18n: {
    label: string
    rootButton: string
    scheduleButton: string
    plansButton: string
    help: string
  }
}

export const Navigation: React.FC<Props> = (props) => {
  const { current, locales, i18n } = props

  return (
    <ThemeProvider theme={createdTheme}>
      <Nav>
        <Container>
          <RubyKaigiLogo />
          <CenteredWrapper>
            <MarginWrapper>
              <Text>Schedule.select</Text>
            </MarginWrapper>
            <PoweredByWrapper>
              <Text size="S">powered by</Text>
              <SmartHRLogo width={95} height={16} fill="brand" />
            </PoweredByWrapper>
          </CenteredWrapper>
        </Container>
      </Nav>
      <AppNavi
        label={i18n.label}
        buttons={generateNaviButton(props, current)}
      >
        <Child><LocaleSelector {...locales} /></Child>
      </AppNavi>
    </ThemeProvider>
  )
}

const generateNaviButton = (props: Props, current: string) => {
  const buttons = []

  buttons.push({
    children: props.i18n.rootButton,
    current: current === null,
    href: props.rootLink,
  })

  buttons.push({
    children: props.i18n.scheduleButton,
    current: current === "schedules",
    icon: FaBullhornIcon,
    href: props.schedulesLink,
  })

  if(!!props.plansLink) {
    buttons.push(
      {
        children: props.i18n.plansButton,
        current: current === "plans",
        icon: FaCalendarAltIcon,
        href: props.plansLink
      }
    )
  }

  return buttons
}

export default Navigation

const Nav = styled.nav`
  display: flex;
  align-items: center;
  flex-direction: row;
  background: #0B374D;
  height: 50px;
`

const Container = styled.div`
  display: flex;
  align-items: center;
  flex-direction: row;
  margin: 0 16px;
  color: #FFF;
`

const CenteredWrapper = styled.div`
  display: flex;
  align-items: center;
`

const MarginWrapper = styled.div`
  display: flex;
  align-items: center;
  gap: 2px;
  margin-left: 8px;
`

const PoweredByWrapper = styled.div`
  display: flex;
  align-items: center;
  gap: 2px;
  margin-left: 12px;
  margin-bottom: 2px;
`

const Child = styled.div`
  margin: 0 0 0 auto;
`

const RubyKaigiLogo: React.VFC<{}> = () => {
  return (
    <svg width="213" height="19" viewBox="0 0 213 19" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M2.8721 9.64301V14.3011H0V0.408603H5.49446C8.82443 0.408603 10.4894 1.93405 10.4894 4.98495C10.4894 6.79642 9.79567 8.13118 8.40818 8.98925L10.427 14.3011H7.28432L5.64014 9.64301H2.8721ZM5.53608 7.23226C6.21595 7.23226 6.72238 7.02796 7.05538 6.61936C7.38838 6.21075 7.55488 5.67276 7.55488 5.00538C7.55488 4.33799 7.3745 3.80681 7.01376 3.41183C6.66688 3.01685 6.16045 2.81935 5.49446 2.81935H2.8721V7.23226H5.53608Z" fill="white"/>
      <path d="M18.796 4.08602H21.5848V14.3011H18.8168V13.729C17.8178 14.2738 16.9506 14.5462 16.2152 14.5462C14.7723 14.5462 13.801 14.1581 13.3015 13.3817C12.802 12.5918 12.5523 11.2774 12.5523 9.43871V4.08602H15.3411V9.47957C15.3411 10.4875 15.4244 11.1753 15.5909 11.543C15.7574 11.9108 16.1597 12.0946 16.798 12.0946C17.4085 12.0946 17.9843 11.9993 18.5254 11.8086L18.796 11.7269V4.08602Z" fill="white"/>
      <path d="M29.1966 3.84086C30.6535 3.84086 31.7149 4.23584 32.3809 5.02581C33.0608 5.80215 33.4007 7.19821 33.4007 9.21398C33.4007 11.2298 33.0122 12.6258 32.2352 13.4022C31.4582 14.1649 30.1193 14.5462 28.2184 14.5462C27.6218 14.5462 26.5326 14.4781 24.9509 14.3419L24.16 14.2602V0H26.9489V4.39247C27.8369 4.02473 28.5861 3.84086 29.1966 3.84086ZM28.2184 12.0946C29.1481 12.0946 29.7724 11.8767 30.0915 11.4409C30.4107 10.9914 30.5702 10.1946 30.5702 9.05054C30.5702 7.21183 29.9875 6.29247 28.822 6.29247C28.267 6.29247 27.7398 6.36057 27.2403 6.49677L26.9489 6.55807V12.0129C27.5871 12.0674 28.0103 12.0946 28.2184 12.0946Z" fill="white"/>
      <path d="M34.3608 4.08602H37.1081L39.002 11.972H39.4807L41.3746 4.08602H44.1218L40.4589 18.5914H37.7324L38.8771 14.3011H36.9208L34.3608 4.08602Z" fill="white"/>
      <path d="M48.8462 14.3011H45.9741V0.408603H48.8462V6.5172L50.761 6.3129L53.0919 0.408603H56.3595L53.2792 7.37527L56.4427 14.3011H53.1336L50.761 8.76452L48.8462 8.96882V14.3011Z" fill="white"/>
      <path d="M65.9309 7.27312V11.5226C65.9586 11.8495 66.0141 12.081 66.0974 12.2172C66.1806 12.3398 66.3541 12.4283 66.6177 12.4828L66.5344 14.5462C65.8268 14.5462 65.2579 14.4986 64.8278 14.4032C64.4116 14.3079 63.9884 14.1172 63.5583 13.8312C62.5593 14.3079 61.5395 14.5462 60.4989 14.5462C58.3482 14.5462 57.2729 13.4294 57.2729 11.1957C57.2729 10.1061 57.5713 9.33656 58.1679 8.8871C58.7645 8.42401 59.6802 8.15161 60.9151 8.06989L63.142 7.90645V7.27312C63.142 6.8509 63.0449 6.56487 62.8506 6.41505C62.6564 6.25161 62.3442 6.16989 61.9141 6.16989L58.0014 6.33333L57.9181 4.43333C59.4027 4.03835 60.811 3.84086 62.143 3.84086C63.4889 3.84086 64.4532 4.11326 65.0359 4.65806C65.6326 5.20287 65.9309 6.07455 65.9309 7.27312ZM61.2481 9.96989C60.4711 10.038 60.0826 10.4466 60.0826 11.1957C60.0826 11.9448 60.4225 12.3194 61.1024 12.3194C61.6297 12.3194 62.2055 12.2376 62.8298 12.0742L63.142 11.9925V9.80645L61.2481 9.96989Z" fill="white"/>
      <path d="M68.5895 14.3011V4.08602H71.3783V14.3011H68.5895ZM68.5895 2.7785V0H71.3783V2.7785H68.5895Z" fill="white"/>
      <path d="M83.3831 15.5677C83.3831 16.7391 82.9253 17.6039 82.0095 18.1624C81.0938 18.7208 79.852 19 78.2841 19C76.7301 19 75.53 18.7957 74.6836 18.3871C73.8511 17.9785 73.4349 17.2362 73.4349 16.1602C73.4349 15.3022 73.9344 14.4918 74.9333 13.729C74.42 13.3885 74.1633 12.871 74.1633 12.1763C74.1633 11.9039 74.3714 11.4545 74.7877 10.828L74.975 10.5419C74.0315 9.87455 73.5597 8.89391 73.5597 7.6C73.5597 6.29247 73.9552 5.34588 74.746 4.76022C75.5508 4.17455 76.6122 3.88172 77.9303 3.88172C78.5269 3.88172 79.1166 3.94982 79.6994 4.08602L80.0324 4.14731L83.3831 4.04516V6.23118L81.8222 6.1086C82.1275 6.57169 82.2801 7.03477 82.2801 7.49785C82.2801 8.85986 81.9263 9.79964 81.2187 10.3172C80.511 10.8348 79.4011 11.0935 77.8887 11.0935C77.5696 11.0935 77.2851 11.0663 77.0354 11.0118C76.8966 11.366 76.8273 11.6588 76.8273 11.8903C76.8273 12.1082 76.9452 12.2581 77.1811 12.3398C77.4169 12.4215 77.9719 12.4692 78.8461 12.4828C80.5943 12.4964 81.7875 12.728 82.4258 13.1774C83.064 13.6133 83.3831 14.41 83.3831 15.5677ZM76.1821 15.8742C76.1821 16.4599 76.9105 16.7527 78.3674 16.7527C79.8381 16.7527 80.5735 16.4122 80.5735 15.7312C80.5735 15.3634 80.4486 15.1251 80.1989 15.0161C79.9491 14.9208 79.4219 14.8663 78.6171 14.8527L76.744 14.7097C76.3694 15.0774 76.1821 15.4656 76.1821 15.8742ZM76.3486 7.51828C76.3486 8.51255 76.8758 9.00968 77.9303 9.00968C78.9987 9.00968 79.5329 8.51255 79.5329 7.51828C79.5329 6.51039 78.9987 6.00645 77.9303 6.00645C76.8758 6.00645 76.3486 6.51039 76.3486 7.51828Z" fill="white"/>
      <path d="M85.0727 14.3011V4.08602H87.8615V14.3011H85.0727ZM85.0727 2.7785V0H87.8615V2.7785H85.0727Z" fill="white"/>
      <path d="M93.9916 2.90108V0.408603H104.398V2.90108H100.652V14.3011H97.7794V2.90108H93.9916Z" fill="white"/>
      <path d="M112.433 7.27312V11.5226C112.461 11.8495 112.517 12.081 112.6 12.2172C112.683 12.3398 112.857 12.4283 113.12 12.4828L113.037 14.5462C112.329 14.5462 111.76 14.4986 111.33 14.4032C110.914 14.3079 110.491 14.1172 110.061 13.8312C109.062 14.3079 108.042 14.5462 107.001 14.5462C104.851 14.5462 103.776 13.4294 103.776 11.1957C103.776 10.1061 104.074 9.33656 104.67 8.8871C105.267 8.42401 106.183 8.15161 107.418 8.06989L109.645 7.90645V7.27312C109.645 6.8509 109.547 6.56487 109.353 6.41505C109.159 6.25161 108.847 6.16989 108.417 6.16989L104.504 6.33333L104.421 4.43333C105.905 4.03835 107.314 3.84086 108.646 3.84086C109.991 3.84086 110.956 4.11326 111.539 4.65806C112.135 5.20287 112.433 6.07455 112.433 7.27312ZM107.751 9.96989C106.974 10.038 106.585 10.4466 106.585 11.1957C106.585 11.9448 106.925 12.3194 107.605 12.3194C108.132 12.3194 108.708 12.2376 109.332 12.0742L109.645 11.9925V9.80645L107.751 9.96989Z" fill="white"/>
      <path d="M117.881 14.3011H115.092V0H117.881V8.13118L118.942 7.94731L121.003 4.08602H124.125L121.419 8.92796L124.27 14.3011H121.128L119.026 10.3172L117.881 10.5011V14.3011Z" fill="white"/>
      <path d="M127.91 10.3581C127.923 10.9846 128.09 11.4409 128.409 11.7269C128.742 11.9993 129.214 12.1355 129.824 12.1355C131.115 12.1355 132.266 12.0946 133.279 12.0129L133.862 11.9516L133.903 13.9742C132.308 14.3556 130.865 14.5462 129.575 14.5462C128.007 14.5462 126.869 14.1376 126.161 13.3204C125.454 12.5032 125.1 11.1753 125.1 9.33656C125.1 5.67276 126.633 3.84086 129.699 3.84086C132.724 3.84086 134.236 5.37993 134.236 8.45807L134.028 10.3581H127.91ZM131.489 8.27419C131.489 7.45699 131.357 6.89176 131.094 6.57849C130.83 6.25161 130.365 6.08817 129.699 6.08817C129.047 6.08817 128.582 6.25842 128.305 6.59893C128.041 6.92581 127.903 7.48423 127.889 8.27419H131.489Z" fill="white"/>
      <path d="M136.792 5.25054C137.527 4.31075 138.755 3.84086 140.475 3.84086C142.196 3.84086 143.424 4.31075 144.159 5.25054C144.894 6.1767 145.262 7.48423 145.262 9.17312C145.262 12.7552 143.667 14.5462 140.475 14.5462C137.284 14.5462 135.688 12.7552 135.688 9.17312C135.688 7.48423 136.056 6.1767 136.792 5.25054ZM138.935 11.4817C139.227 11.972 139.74 12.2172 140.475 12.2172C141.211 12.2172 141.717 11.972 141.995 11.4817C142.286 10.9914 142.432 10.2219 142.432 9.17312C142.432 8.12437 142.286 7.36165 141.995 6.88495C141.717 6.40824 141.211 6.16989 140.475 6.16989C139.74 6.16989 139.227 6.40824 138.935 6.88495C138.658 7.36165 138.519 8.12437 138.519 9.17312C138.519 10.2219 138.658 10.9914 138.935 11.4817Z" fill="white"/>
      <path d="M153.446 4.08602H156.235V14.3011H153.467V13.729C152.468 14.2738 151.601 14.5462 150.865 14.5462C149.422 14.5462 148.451 14.1581 147.952 13.3817C147.452 12.5918 147.202 11.2774 147.202 9.43871V4.08602H149.991V9.47957C149.991 10.4875 150.074 11.1753 150.241 11.543C150.407 11.9108 150.81 12.0946 151.448 12.0946C152.059 12.0946 152.634 11.9993 153.176 11.8086L153.446 11.7269V4.08602Z" fill="white"/>
      <path d="M164.575 6.41505H162.015V10.6032C162.015 11.0118 162.022 11.3047 162.036 11.4817C162.064 11.6452 162.14 11.7882 162.265 11.9108C162.404 12.0333 162.612 12.0946 162.889 12.0946L164.471 12.0538L164.596 14.2398C163.666 14.4441 162.959 14.5462 162.473 14.5462C161.224 14.5462 160.371 14.2738 159.913 13.729C159.455 13.1706 159.226 12.1491 159.226 10.6645V6.41505H157.998V4.08602H159.226V1.24624H162.015V4.08602H164.575V6.41505Z" fill="white"/>
      <path d="M179.934 14.3011H171.027V11.9108L173.961 8.98925C175.002 7.9405 175.723 7.13692 176.126 6.57849C176.542 6.02007 176.75 5.4276 176.75 4.80108C176.75 4.16093 176.577 3.71147 176.23 3.45269C175.897 3.19391 175.418 3.06452 174.794 3.06452C173.864 3.06452 172.851 3.14624 171.755 3.30968L171.256 3.37097L171.11 1.18495C172.47 0.776344 173.878 0.572043 175.335 0.572043C178.249 0.572043 179.705 1.85914 179.705 4.43333C179.705 5.44122 179.483 6.3129 179.039 7.04839C178.595 7.78387 177.791 8.67599 176.625 9.72473L174.232 11.8495H179.934V14.3011Z" fill="white"/>
      <path d="M183.151 2.24731C184.053 1.13047 185.385 0.572043 187.147 0.572043C188.909 0.572043 190.234 1.13047 191.122 2.24731C192.024 3.36416 192.475 5.16201 192.475 7.64086C192.475 10.1061 192.031 11.8767 191.143 12.9527C190.255 14.0151 188.923 14.5462 187.147 14.5462C185.371 14.5462 184.039 14.0151 183.151 12.9527C182.263 11.8767 181.819 10.1061 181.819 7.64086C181.819 5.16201 182.263 3.36416 183.151 2.24731ZM189.52 7.57957C189.52 5.89068 189.34 4.71255 188.979 4.04516C188.618 3.36416 188.008 3.02366 187.147 3.02366C186.301 3.02366 185.69 3.36416 185.316 4.04516C184.955 4.72617 184.775 5.9043 184.775 7.57957C184.775 9.25484 184.962 10.4262 185.337 11.0935C185.711 11.7609 186.322 12.0946 187.168 12.0946C188.014 12.0946 188.618 11.7609 188.979 11.0935C189.34 10.4262 189.52 9.25484 189.52 7.57957Z" fill="white"/>
      <path d="M203.226 14.3011H194.319V11.9108L197.253 8.98925C198.294 7.9405 199.015 7.13692 199.418 6.57849C199.834 6.02007 200.042 5.4276 200.042 4.80108C200.042 4.16093 199.869 3.71147 199.522 3.45269C199.189 3.19391 198.71 3.06452 198.086 3.06452C197.156 3.06452 196.143 3.14624 195.047 3.30968L194.548 3.37097L194.402 1.18495C195.762 0.776344 197.17 0.572043 198.627 0.572043C201.54 0.572043 202.997 1.85914 202.997 4.43333C202.997 5.44122 202.775 6.3129 202.331 7.04839C201.887 7.78387 201.083 8.67599 199.917 9.72473L197.524 11.8495H203.226V14.3011Z" fill="white"/>
      <path d="M212.479 0.817205V14.3011H209.607V4.0043L206.631 5.88387L205.319 3.77957L209.856 0.817205H212.479Z" fill="white"/>
    </svg>

  )
}